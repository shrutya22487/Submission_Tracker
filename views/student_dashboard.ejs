<%- include('partials/header') %>
<div class="jumbotron text-center" style="margin-bottom: 15px;">
    <h1 style="font-size: 5rem; font-weight: bold;">Student Dashboard</h1>
    <a class="btn btn-dark btn-lg" href="/logout" role="button" style="font-size: 1rem;display: inline-block;">Logout</a>
</div>

<div class="container">
    <div style="overflow-x: auto; margin-bottom: 20px;">
        <table style="width: 100%; max-width: 1000px; border-collapse: collapse; margin: 0 auto;">
            <thead>
                <tr>
                    <th style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; background-color: #f2f2f2; font-size: 1rem; font-weight: bold;">ID</th>
                    <th style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; background-color: #f2f2f2; font-size: 1rem; font-weight: bold;">Title</th>
                    <th style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; background-color: #f2f2f2; font-size: 1rem; font-weight: bold;">Professor Name</th>
                    <th style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; background-color: #f2f2f2; font-size: 1rem; font-weight: bold;">Author</th>
                    <th style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; background-color: #f2f2f2; font-size: 1rem; font-weight: bold;">Conference</th>
                    <th style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; background-color: #f2f2f2; font-size: 1rem; font-weight: bold;">Status</th>
                    <th style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; background-color: #f2f2f2; font-size: 1rem; font-weight: bold;">Link</th>
                    <th style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; background-color: #f2f2f2; font-size: 1rem; font-weight: bold;">Date</th>
                    <th style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; background-color: #f2f2f2; font-size: 1rem; font-weight: bold;"></th>

                </tr>
            </thead>
            <tbody>
                <% if (Jobs && Array.isArray(Jobs.rows) && Jobs.rows.length> 0) { %>
                    <% Jobs.rows.forEach(job => { %>
                        <tr>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; font-size: 0.875rem;">
                                <%= job.id %>
                            </td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; font-size: 0.875rem;">
                                <%= job.title %>
                            </td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; font-size: 0.875rem;">
                                <%= job.prof_name %>
                            </td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; font-size: 0.875rem;">
                                <%= job.author %>
                            </td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; font-size: 0.875rem;">
                                <%= job.conference %>
                            </td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; font-size: 0.875rem;">
                                <%= job.status %>
                            </td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; font-size: 0.875rem;">
                                <a href="<%= job.link %>" style="color: #007bff; text-decoration: none;">Link</a>
                            </td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; font-size: 0.875rem; width: 150px; white-space: nowrap;">
                                <%= job.date ? job.date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }).split(',').join(' ') : '' %>
                                <br>
                                <%= job.date ? job.date.getFullYear() : '' %>
                            </td>
                        
                        <td style="padding: 12px; text-align: center; border-bottom: 1px solid #ddd; font-size: 0.875rem; width: 150px; white-space: nowrap;">
                            <form action="/delete_job/<%= job.id %>" method="POST" style="display: inline;">
                                <button type="submit" style="background-color: #ff4c4c; color: white; padding: 8px 12px; border: none; border-radius: 4px; cursor: pointer;">
                                    Remove
                                </button>
                            </form>
                        </td>
                    </tr>
                    <% }); %>
                <% } else { %>
                    <tr>
                        <td colspan="8" style="text-align: center; padding: 12px; font-size: 0.875rem;">No jobs found.</td>
                    </tr>
                <% } %>
            </tbody>
        </table>
    </div>
</div>

<div class="container">
    <h2 style="font-size: 2rem; font-weight: bold;">Add Job:</h2>
    <form action="/student_dashboard" method="POST" style="margin-top: 20px;">

        <label for="title" style="font-size: 1rem; display: block; margin-bottom: 4px;">Job Title:</label>
        <input type="text" id="title" name="title" required
            style="width: 100%; padding: 8px; margin-bottom: 16px; border: 1px solid #ccc; border-radius: 4px; font-size: 1rem;">
        

        <label for="prof_name" style="font-size: 1rem; display: block; margin-bottom: 4px;">Professor Name:</label>
        <input type="text" id="prof_name" name="prof_name" required
            style="width: 100%; padding: 8px; margin-bottom: 16px; border: 1px solid #ccc; border-radius: 4px; font-size: 1rem;">
        

        <label for="author" style="font-size: 1rem; display: block; margin-bottom: 4px;">Author:</label>
        <input type="text" id="author" name="author" required
            style="width: 100%; padding: 8px; margin-bottom: 16px; border: 1px solid #ccc; border-radius: 4px; font-size: 1rem;">
        

        <label for="conference" style="font-size: 1rem; display: block; margin-bottom: 4px;">Conference:</label>
        <input type="text" id="conference" name="conference"
            style="width: 100%; padding: 8px; margin-bottom: 16px; border: 1px solid #ccc; border-radius: 4px; font-size: 1rem;">
        

        <label for="status" style="font-size: 1rem; display: block; margin-bottom: 4px;">Status:</label>
        <select id="status" name="status" required
            style="width: 100%; padding: 8px; margin-bottom: 16px; border: 1px solid #ccc; border-radius: 4px; font-size: 1rem;">
            <option value="Submitted">Submitted</option>
            <option value="Under Review">Under Review</option>
            <option value="Published">Published</option>
            <option value="Rejected">Rejected</option>
        </select>
        

        <label for="link" style="font-size: 1rem; display: block; margin-bottom: 4px;">Link:</label>
        <input type="url" id="link" name="link"
            style="width: 100%; padding: 8px; margin-bottom: 16px; border: 1px solid #ccc; border-radius: 4px; font-size: 1rem;">
        

        <label for="date" style="font-size: 1rem; display: block; margin-bottom: 4px;">Date:</label>
        <input type="date" id="date" name="date"
            style="width: 100%; padding: 8px; margin-bottom: 16px; border: 1px solid #ccc; border-radius: 4px; font-size: 1rem;">
        
        <button type="btn btn-dark btn-lg" style="background-color: #4CAF50; color: white; padding: 10px 20px; border: black; border-radius: 4px; border-width: 1px; cursor: pointer; font-size: 1rem;">Add Job</button>
        <br><br>
    </form>
</div>


<%- include('partials/footer') %>
